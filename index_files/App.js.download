webpackJsonp([2],{

/***/ 0:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _geo = __webpack_require__(74);
	
	var _geo2 = _interopRequireDefault(_geo);
	
	var _financialService = __webpack_require__(75);
	
	var _financialService2 = _interopRequireDefault(_financialService);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _accessoryModelSelectionService = __webpack_require__(113);
	
	var _accessoryModelSelectionService2 = _interopRequireDefault(_accessoryModelSelectionService);
	
	var _category = __webpack_require__(369);
	
	var _category2 = _interopRequireDefault(_category);
	
	var _home = __webpack_require__(374);
	
	var _home2 = _interopRequireDefault(_home);
	
	var _model = __webpack_require__(375);
	
	var _model2 = _interopRequireDefault(_model);
	
	var _header = __webpack_require__(373);
	
	var _header2 = _interopRequireDefault(_header);
	
	var _redyToRide = __webpack_require__(377);
	
	var _redyToRide2 = _interopRequireDefault(_redyToRide);
	
	var _compareTool = __webpack_require__(371);
	
	var _compareTool2 = _interopRequireDefault(_compareTool);
	
	var _accessoriesLanding = __webpack_require__(367);
	
	var _accessoriesLanding2 = _interopRequireDefault(_accessoriesLanding);
	
	var _accessoriesResults = __webpack_require__(368);
	
	var _accessoriesResults2 = _interopRequireDefault(_accessoriesResults);
	
	var _subnavBar = __webpack_require__(379);
	
	var _subnavBar2 = _interopRequireDefault(_subnavBar);
	
	var _newsletter = __webpack_require__(376);
	
	var _newsletter2 = _interopRequireDefault(_newsletter);
	
	var _getMyPricingFinanceOptions = __webpack_require__(372);
	
	var _getMyPricingFinanceOptions2 = _interopRequireDefault(_getMyPricingFinanceOptions);
	
	var _warranty = __webpack_require__(380);
	
	var _warranty2 = _interopRequireDefault(_warranty);
	
	var _specialOffer = __webpack_require__(378);
	
	var _specialOffer2 = _interopRequireDefault(_specialOffer);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var appSettings = (0, _jquery2.default)("#mc-config").data();
	
	//pages
	
	
	var pages = function pages() {
	  var page = appSettings.page;
	  switch (page) {
	    case 'Home':
	      (0, _home2.default)();
	      break;
	    case 'Category':
	      (0, _category2.default)();
	      break;
	    case 'Model':
	      (0, _model2.default)();
	      break;
	    case 'RedyToRide':
	      (0, _redyToRide2.default)();
	      break;
	    case 'AccessoriesLanding':
	      (0, _accessoriesLanding2.default)();
	      break;
	    case 'AccessoriesResults':
	      (0, _accessoriesResults2.default)();
	      break;
	    case 'Warranty':
	      (0, _warranty2.default)();
	      break;
	    case 'SpecialOffers':
	      (0, _specialOffer2.default)();
	      break;
	    default:
	      break;
	  }
	};
	
	(0, _jquery2.default)(function () {
	  (0, _subnavBar2.default)();
	  (0, _newsletter2.default)();
	  (0, _getMyPricingFinanceOptions2.default)();
	
	  _geo2.default.init(appSettings);
	  _financialService2.default.init(appSettings);
	  _accessoryModelSelectionService2.default.init(appSettings);
	
	  if (appSettings.language === 'fr') {
	    _utilities2.default.accounting.settings = {
	      currency: {
	        symbol: '$',
	        format: '%v %s',
	        decimal: ',',
	        thousand: ' ',
	        precision: 2
	      },
	      number: {
	        thousand: ' ',
	        decimal: ','
	      }
	    };
	  }
	
	  (0, _header2.default)();
	  pages();
	  (0, _compareTool2.default)();
	});

/***/ },

/***/ 75:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _vehicles = __webpack_require__(362);
	
	var _vehicles2 = _interopRequireDefault(_vehicles);
	
	var _lodash = __webpack_require__(20);
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var financialService = {
	  init: function init(apiSettings, done) {
	    this.api = new _vehicles2.default(apiSettings);
	    if (done) {
	      done();
	    }
	  },
	  fetchModelsAllInPriceForDifferentProductLines: function fetchModelsAllInPriceForDifferentProductLines(data, province) {
	    var groupedData = (0, _lodash.groupBy)(data, 'ProductLine');
	    var calls = [];
	    for (var productLine in groupedData) {
	      calls.push(this.fetchModelsAllInPrice(JSON.stringify(groupedData[productLine]), province, { productLine: productLine }));
	    }
	    return _jquery2.default.when.apply(_jquery2.default, calls).then(function () {
	      for (var _len = arguments.length, result = Array(_len), _key = 0; _key < _len; _key++) {
	        result[_key] = arguments[_key];
	      }
	
	      return result;
	    }, function (jqXHR, textStatus, errorThrown) {
	      return errorThrown;
	    });
	  },
	  fetchModelAllInPrice: function fetchModelAllInPrice(modelKey, modelYear, province) {
	    var data = JSON.stringify([{ ModelYear: modelYear, ModelKey: modelKey }]);
	    return this.fetchModelsAllInPrice(data, province);
	  },
	  fetchModelsAllInPrice: function fetchModelsAllInPrice(data, province) {
	    var settings = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
	
	    var config = Object.assign({
	      rootPath: 'financials-worksheets',
	      type: 'POST',
	      contentType: 'application/json',
	      data: data
	    }, settings);
	
	    return this.api.getTrimsAllInPrice(province, config).then(function (data, textStatus, jqXHR) {
	      return data;
	    }, function (jqXHR, textStatus, errorThrown) {
	      return errorThrown;
	    });
	  }
	};
	
	exports.default = financialService;

/***/ },

/***/ 112:
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.getPricingData = getPricingData;
	exports.getTrimUsingTransmissionId = getTrimUsingTransmissionId;
	function getPricingData(modelPriceData) {
	  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
	      modelId = _ref.modelId,
	      modelKey = _ref.modelKey,
	      trimId = _ref.trimId,
	      transmissionId = _ref.transmissionId,
	      exteriorColorId = _ref.exteriorColorId,
	      exteriorColorKey = _ref.exteriorColorKey;
	
	  if (!modelPriceData || !modelPriceData.Models) {
	    return { isError: true };
	  }
	
	  var model = modelId && modelPriceData.Models.filter(function (o) {
	    return o.ModelId === modelId;
	  })[0] || modelKey && modelPriceData.Models.filter(function (o) {
	    return o.ModelKey === modelKey;
	  })[0] || modelPriceData.Models[0];
	
	  if (!model || !model.Trims) {
	    return { isError: true };
	  }
	
	  var trim = !trimId ? model.Trims[0] : model.Trims.filter(function (o) {
	    return o.Id === trimId;
	  })[0];
	
	  if (!trim || !trim.Transmissions) {
	    return { isError: true };
	  }
	
	  var transmission = !transmissionId ? trim.Transmissions[0] : trim.Transmissions.filter(function (o) {
	    return o.Id === transmissionId;
	  })[0];
	
	  if (!transmission || !transmission.ExteriorColors) {
	    return { isError: true };
	  }
	
	  var exteriorColor = exteriorColorId && transmission.ExteriorColors.filter(function (o) {
	    return o.Id === exteriorColorId;
	  })[0] || exteriorColorKey && transmission.ExteriorColors.filter(function (o) {
	    return o.Key === exteriorColorKey;
	  })[0] || transmission.ExteriorColors[0];
	
	  if (!exteriorColor) {
	    return { isError: true };
	  }
	
	  return {
	    isError: false,
	    msrp: transmission.Msrp,
	    levyTotal: transmission.LevyTotal,
	    freightPdiCost: trim.FreightPdiCost,
	    sellingPrice: exteriorColor.SellingPrice,
	    model: model, trim: trim, transmission: transmission, exteriorColor: exteriorColor
	  };
	}
	
	function getTrimUsingTransmissionId(modelPriceData) {
	  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
	      modelId = _ref2.modelId,
	      modelKey = _ref2.modelKey,
	      transmissionId = _ref2.transmissionId;
	
	  if (!modelPriceData || !modelPriceData.Models || !transmissionId) {
	    return { isError: true };
	  }
	
	  var model = !modelId || !modelKey ? modelPriceData.Models[0] : modelPriceData.Models.filter(function (o) {
	    return o.ModeKey === modelKey && o.ModelId === modelId;
	  })[0];
	
	  if (!model || !model.Trims) {
	    return { isError: true };
	  }
	
	  var trim = model.Trims.filter(function (trm) {
	    if (!trm.Transmissions) {
	      return false;
	    }
	    return trm.Transmissions.some(function (trans) {
	      return trans.Id === transmissionId;
	    });
	  })[0];
	
	  if (!trim) {
	    return { isError: true };
	  }
	
	  return {
	    isError: false,
	    trim: trim
	  };
	}

/***/ },

/***/ 113:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	var categorySelector = (0, _jquery2.default)('select.option-category', '.find-accessories-model-selector');
	var modelSelector = (0, _jquery2.default)('select.option-model', '.find-accessories-model-selector');
	var yearSelector = (0, _jquery2.default)('select.option-year', '.find-accessories-model-selector');
	var findButton = (0, _jquery2.default)('a.find-accessories-button', '.find-accessories-model-selector');
	
	var accessoryModelSelectionService = function () {
	
		var that = {};
	
		return {
			init: function init(apiSettings, done) {
				this.settings = apiSettings;
				if (done) {
					done();
				}
			},
			wireUpFindButton: function wireUpFindButton() {
				findButton.on('click', function (event) {
					event.preventDefault();
					if (categorySelector.val() && modelSelector.val() && yearSelector.val()) {
						window.location = translations['find-accessories-results-page-url'] + '/' + categorySelector.val() + '/' + modelSelector.val() + '/' + yearSelector.find(':selected').text();
					}
				});
			},
			wireUpSelectEvents: function wireUpSelectEvents() {
	
				categorySelector.on('change', function () {
	
					var categorySelected = (0, _jquery2.default)(this).val();
	
					accessoryModelSelectionService.fetchModelsForCategory(categorySelected);
	
					yearSelector.find('option').remove().end().append('<option value="">' + translations['find-accessories-selection-year-label'] + '</option>');
				});
	
				modelSelector.on('change', function () {
	
					accessoryModelSelectionService.fetchYearsForModel((0, _jquery2.default)(this).val());
				});
			},
			fetchModelsForCategory: function fetchModelsForCategory(categoryUrl, callBack) {
	
				modelSelector.find('option').remove().end().append('<option value="">' + translations['find-accessories-selection-model-label'] + '</option>');
	
				if (categoryUrl) {
					_jquery2.default.get('/api/get-models-with-trims/' + categoryUrl + '/' + currentLanguage, function (models) {
						_jquery2.default.each(models, function (idx, model) {
							modelSelector.append('<option value="' + _utilities2.default.getModelUrl(model.Urls, currentLanguage) + '">' + model.Name + '</option>');
						});
	
						that.models = models;
	
						if (callBack) {
							callBack();
						}
					});
				}
			},
			fetchYearsForModel: function fetchYearsForModel(modelUrlSelected) {
	
				yearSelector.find('option').remove().end().append('<option value="">' + translations['find-accessories-selection-year-label'] + '</option>');
	
				var values = [];
	
				if (modelUrlSelected) {
					var model = that.models.filter(function (modelParam) {
						return _utilities2.default.getModelUrl(modelParam.Urls, currentLanguage) === modelUrlSelected;
					})[0];
	
					_jquery2.default.each(model.Transmissions, function (idx, transmission) {
						var value = transmission.Id + '|' + transmission.ModelYear;
						values[transmission.ModelYear] = value;
						yearSelector.append('<option value="' + value + '">' + transmission.ModelYear + '</option>');
					});
				}
	
				return values;
			}
		};
	}();
	
	exports.default = accessoryModelSelectionService;

/***/ },

/***/ 165:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	
	var snippet = {
	  getCategoryPageSellingPriceHtml: function getCategoryPageSellingPriceHtml(object) {
	    return '\n      <div class="item-price" data-discount-price="' + object.DiscountPrice + '" data-your-price="' + object.YourPrice + '">\n        ' + _utilities2.default.formatCurrency(object.SellingPrice) + '\n      </div>\n      <div class="item-price-tag">\n        ' + translations['selling-price'] + '\n        <div class="indicator-wrapper">\n          <div class="indicator-icon"></div>\n          <div class="indicator-description">' + translations['tooltip-all-in-price'] + '</div>\n        </div>\n      </div>\n      <div class="item-price-starting">\n       ' + translations['include'] + '\n       <span class="highlighted-price">\n          ' + _utilities2.default.formatCurrency(object.FreightPdiCost) + '\n        </span> ' + translations['freight-pdi-fees'] + '\n      </div>\n    ';
	  },
	  getCompareModalSellingPriceHtml: function getCompareModalSellingPriceHtml(object) {
	    return '\n      <div class="item-price msrpClass compare-model-msrp"\n        data-discount-price="' + _utilities2.default.formatCurrency(object.Savings) + '"\n        data-your-price="' + _utilities2.default.formatCurrency(object.SellingPrice - object.Savings) + '">\n        ' + _utilities2.default.formatCurrency(object.SellingPrice) + '\n        <span class="' + (object.Savings === 0 ? '' : 'strike') + '">\n        </span>\n      </div>\n      <div class="item-price-tag">\n        ' + translations['selling-price'] + '\n        <div class="indicator-wrapper">\n          <div class="indicator-icon"></div>\n          <div class="indicator-description">' + translations['tooltip-all-in-price'] + '</div>\n        </div>\n      </div>\n      <div class="item-price-starting">\n       ' + translations['include'] + '\n        <span class="highlighted-price">\n          ' + _utilities2.default.formatCurrency(object.FreightPdiCost) + '\n        </span> ' + translations['freight-pdi-fees'] + '\n      </div>\n      ' + (object.Savings === 0 ? '' : '\n        <div class="item-price sale compare-model-discount">\n          ' + _utilities2.default.formatCurrency(object.Savings) + '\n        </div>\n        <div class="item-price-tag sale">\n          ' + translations['savings'] + '\n        </div>\n        <br/>\n        <div class="item-price compare-model-yourprice">\n          ' + _utilities2.default.formatCurrency(object.SellingPrice - object.Savings) + '\n        </div>\n        <div class="item-price-tag">\n          ' + translations['your-price'] + '\n        </div>\n      ') + '\n    ';
	  }
	};
	
	exports.default = snippet;

/***/ },

/***/ 341:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.showProvincialPricing = showProvincialPricing;
	exports.showModelPricing = showModelPricing;
	exports.showNationalPricing = showNationalPricing;
	exports.fetchModelKeyAndYear = fetchModelKeyAndYear;
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _utils = __webpack_require__(112);
	
	var _htmlSnippet = __webpack_require__(165);
	
	var _htmlSnippet2 = _interopRequireDefault(_htmlSnippet);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	
	function showProvincialPricing(modelPriceData, ref) {
	  var item = (0, _jquery2.default)(ref);
	  var parent = item.parent();
	  var data = item.data();
	
	  var priceData = (0, _utils.getPricingData)(modelPriceData, {
	    modelKey: data.modelKey,
	    modelId: data.modelId,
	    trimId: data.trimId,
	    transmissionId: data.transmissionId
	  });
	
	  if (priceData.isError || priceData.msrp <= 0) {
	    parent.removeClass('all-in-pricing-hidden');
	    return;
	  }
	  item.closest('.bike-listing-category').addClass('qc-all-in');
	  var itemPriceData = parent.find('.item-price').data();
	  var html = _htmlSnippet2.default.getCategoryPageSellingPriceHtml({
	    SellingPrice: priceData.sellingPrice,
	    FreightPdiCost: priceData.freightPdiCost,
	    YourPrice: itemPriceData.yourPrice,
	    DiscountPrice: itemPriceData.discountPrice
	  });
	  parent.html(html);
	  parent.removeClass('all-in-pricing-hidden');
	  return;
	}
	
	function showModelPricing(modelPriceData) {
	  if (!modelPriceData || !modelPriceData.Models || !modelPriceData.IsSellingPriceProvince) {
	    showNationalPricing();
	    return;
	  }
	  return (0, _jquery2.default)('.item-pricing-data').each(function () {
	    showProvincialPricing(modelPriceData, this);
	  });
	}
	
	function showNationalPricing() {
	  (0, _jquery2.default)('.item-pricing-data').parent().removeClass('all-in-pricing-hidden');
	}
	
	function fetchModelKeyAndYear() {
	  var items = [];
	  (0, _jquery2.default)('.item-pricing-data').each(function () {
	    var data = (0, _jquery2.default)(this).data();
	    if (!items.filter(function (el) {
	      return el.ModelKey === data.modelKey && el.ModelYear === data.modelYear;
	    }).length) {
	      items.push({
	        ModelKey: data.modelKey,
	        ModelYear: data.modelYear
	      });
	    }
	  });
	  return items;
	}

/***/ },

/***/ 342:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.fetchModelKeyAndYear = fetchModelKeyAndYear;
	exports.showModelPricing = showModelPricing;
	exports.showNationalPricing = showNationalPricing;
	
	var _htmlSnippet = __webpack_require__(165);
	
	var _htmlSnippet2 = _interopRequireDefault(_htmlSnippet);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _utils = __webpack_require__(112);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	
	function fetchModelKeyAndYear() {
	  var items = [];
	  $(".column.populated").each(function () {
	    var data = $(this).data();
	    if (!items.filter(function (el) {
	      return el.ModelKey === data.modelKey && el.ModelYear === data.modelYear;
	    }).length) {
	      items.push({
	        ModelKey: data.modelKey,
	        ModelYear: data.modelYear
	      });
	    }
	  });
	  return items;
	}
	
	function showProvincialPricingForTrimOptions(modelPriceData, ref) {
	  var item = $(ref);
	  var parent = item.find('.item-price-wrapper');
	  var data = item.data();
	
	  var priceData = (0, _utils.getPricingData)(modelPriceData, {
	    modelKey: data.modelKey,
	    modelId: data.modelId,
	    trimId: data.trimId,
	    transmissionId: data.transmissionId
	  });
	
	  if (priceData.isError || priceData.msrp <= 0) {
	    parent.removeClass('all-in-pricing-hidden');
	    return;
	  }
	
	  item.closest('.popup.popup-compare').addClass('qc-all-in');
	
	  var html = _htmlSnippet2.default.getCompareModalSellingPriceHtml({
	    SellingPrice: priceData.sellingPrice,
	    FreightPdiCost: priceData.freightPdiCost,
	    Savings: parseInt(data.savings)
	  });
	  parent.html(html);
	  parent.removeClass('all-in-pricing-hidden');
	  return;
	}
	
	function showNationalPricingForTrimOptions() {
	  $(".column.populated").find('.item-price-wrapper').removeClass('all-in-pricing-hidden');
	}
	
	function showProvincialPricing(modelPriceData) {
	  $(".column.populated").each(function () {
	    showProvincialPricingForTrimOptions(modelPriceData, this);
	  });
	}
	
	function showModelPricing(modelPriceData) {
	  if (!modelPriceData || !modelPriceData.Models || !modelPriceData.IsSellingPriceProvince) {
	    showNationalPricing();
	    return;
	  }
	  return showProvincialPricing(modelPriceData);
	}
	
	function showNationalPricing() {
	  showNationalPricingForTrimOptions();
	}

/***/ },

/***/ 343:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.fetchModelKeyAndYear = fetchModelKeyAndYear;
	exports.showPricing = showPricing;
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _utils = __webpack_require__(112);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	var modelData = $('#all-in-pricing-model-data').data();
	var relatedModelWrapper = $('.related-models-wrapper');
	var multipleTrimsWrapper = $('.inner-abs-container');
	
	function fetchModelKeyAndYear() {
	  //Model Data
	  var modelKeyYears = [{
	    ModelKey: modelData.modelKey,
	    ModelYear: modelData.modelYear
	  }];
	
	  //Related Model data
	  modelKeyYears = modelKeyYears || [];
	  $('.bike-listing-item', relatedModelWrapper).each(function () {
	    var data = $(this).data();
	    if (!modelKeyYears.filter(function (el) {
	      return el.ModelKey === data.modelKey && el.ModelYear === data.modelYear;
	    }).length) {
	      modelKeyYears.push({
	        ModelKey: data.modelKey,
	        ModelYear: data.modelYear
	      });
	    }
	  });
	  return modelKeyYears;
	}
	
	function showPricing(modelPriceData) {
	  modelData.renderMultipleTrims && multipleTrimsWrapper.length > 0 ? showPricingForMultipleTrims(modelPriceData) : showPricingForModel(modelPriceData);
	
	  showPricingForModelColors(modelPriceData);
	  showPricingForRelatedModel(modelPriceData);
	}
	
	function showPricingForModel(modelPriceData) {
	  var model = modelPriceData.Models && modelPriceData.Models.filter(function (model) {
	    return model.ModelKey === modelData.modelKey;
	  })[0];
	
	  return $('.model-type-selector-item').each(function () {
	    var item = $(this);
	    var data = item.data();
	
	    var priceData = (0, _utils.getPricingData)(modelPriceData, {
	      modelKey: modelData.modelKey,
	      trimId: data.trimId,
	      transmissionId: data.transmissionId
	    });
	
	    if (priceData.isError || priceData.msrp <= 0) {
	      $('.current-msrp, .price-container-title').removeClass('all-in-pricing-hidden');
	      return;
	    }
	    var feesLabel = translations['include'] + ' ' + _utilities2.default.formatCurrency(priceData.freightPdiCost + priceData.levyTotal) + ' ' + translations['freight-pdi-fees'];
	
	    //Model details top model overview
	    item.data('is-selling-price-province', modelPriceData.IsSellingPriceProvince);
	    item.data('freight-pdi-cost', _utilities2.default.formatCurrency(priceData.freightPdiCost + priceData.levyTotal));
	    item.data('freight-pdi-cost-label', translations['freight-pdi-fees']);
	    item.data('include-fees-label', feesLabel);
	    item.data('selling-price', _utilities2.default.formatCurrency(priceData.sellingPrice));
	    item.data('selling-price-label', translations['selling-price']);
	    item.data('selling-price-tooltip', translations['tooltip-all-in-price']);
	
	    if (item.hasClass('is-active')) {
	      trimDetails.getPaymentCalculatorDetails($(this));
	      trimDetails.showPricing(item);
	    }
	  });
	}
	
	function showPricingForModelColors(modelPriceData) {
	  var model = modelPriceData.Models && modelPriceData.Models.filter(function (model) {
	    return model.ModelKey === modelData.modelKey;
	  })[0];
	
	  return $('.model-type-selector-item').each(function () {
	    var item = $(this);
	    var data = item.data();
	
	    var priceData = (0, _utils.getPricingData)(modelPriceData, {
	      modelKey: modelData.modelKey,
	      trimId: data.trimId,
	      transmissionId: data.transmissionId
	    });
	
	    if (priceData.isError || priceData.msrp <= 0) {
	      $('.color-listing-model-price').removeClass('all-in-pricing-hidden');
	      return;
	    }
	
	    var colorWrapper = $('.model-colors-wrapper');
	
	    $('.color-listing-item', colorWrapper).each(function () {
	      var colorListingItem = $(this);
	      var colorData = $('.exterior-color-pricing-data', colorListingItem).data();
	
	      var colorPriceData = (0, _utils.getPricingData)(modelPriceData, {
	        modelKey: modelData.modelKey,
	        trimId: data.trimId,
	        transmissionId: colorData.transmissionId,
	        exteriorColorKey: colorData.exteriorColorKey
	      });
	
	      if (priceData.isError || priceData.msrp <= 0) {
	        $('.current-msrp, .price-container-title').removeClass('all-in-pricing-hidden');
	        $('.color-listing-model-price').removeClass('all-in-pricing-hidden');
	        return;
	      }
	
	      var allInPriceContainer = $('.color-listing-model-price.selling-price', colorListingItem);
	
	      if (modelPriceData.IsSellingPriceProvince) {
	        colorListingItem.addClass('qc-all-in');
	
	        allInPriceContainer.removeClass('all-in-pricing-hidden');
	        $('.color-listing-msrp-starting', allInPriceContainer).html(translations['include'] + ' ' + _utilities2.default.formatCurrency(colorPriceData.freightPdiCost + colorPriceData.levyTotal) + ' ' + translations['freight-pdi-fees']);
	        $('.color-listing-selling-price', allInPriceContainer).html('<strong>' + _utilities2.default.formatCurrency(colorPriceData.sellingPrice) + '</strong> ' + translations['selling-price']);
	        $('.indicator-description', allInPriceContainer).html(translations['tooltip-all-in-price']);
	      } else {
	        allInPriceContainer.remove();
	        $('.color-listing-model-price').removeClass('all-in-pricing-hidden');
	      }
	    });
	  });
	}
	
	function showPricingForRelatedModel(modelPriceData) {
	  return $('.bike-listing-item', relatedModelWrapper).each(function () {
	    var item = $(this);
	    var data = item.data();
	
	    var relatedModelPriceData = (0, _utils.getPricingData)(modelPriceData, {
	      modelId: data.modelId,
	      modelKey: data.modelKey,
	      trimId: data.trimId,
	      transmissionId: data.transmissionId
	    });
	
	    if (relatedModelPriceData.isError || relatedModelPriceData.msrp <= 0) {
	      $('.item-price-wrapper', item).removeClass('all-in-pricing-hidden');
	      return;
	    }
	
	    if (modelPriceData.IsSellingPriceProvince) {
	      item.addClass('qc-all-in');
	      $('.item-price-starting', item).addClass('all-in-pricing-hidden');
	      $('.item-price-starting.qc', item).html(translations['include'] + ' ' + '<span class="highlighted-price">' + _utilities2.default.formatCurrency(relatedModelPriceData.freightPdiCost + relatedModelPriceData.levyTotal) + '</span>' + ' ' + translations['freight-pdi-fees']);
	      $('.item-price', item).html(_utilities2.default.formatCurrency(relatedModelPriceData.sellingPrice));
	      $('.msrp-selling-price').html(translations['selling-price']);
	      $('.indicator-description', item).html(translations['tooltip-all-in-price']);
	      $('.item-price-starting.qc', item).removeClass('all-in-pricing-hidden');
	    }
	    $('.item-price-wrapper', item).removeClass('all-in-pricing-hidden');
	  });
	}
	
	function showPricingForMultipleTrims(modelPriceData) {
	  if (multipleTrimsWrapper.length <= 0) {
	    return;
	  }
	  var model = modelPriceData.Models && modelPriceData.Models.filter(function (model) {
	    return model.ModelKey === modelData.modelKey;
	  })[0];
	
	  $('.model-type-selector-item').each(function () {
	    var item = $(this);
	    var data = item.data();
	
	    var priceData = (0, _utils.getPricingData)(modelPriceData, {
	      modelKey: modelData.modelKey,
	      trimId: data.trimId,
	      transmissionId: data.transmissionId
	    });
	
	    if (priceData.isError || priceData.msrp <= 0) {
	      $('.current-msrp, .price-container-title').removeClass('all-in-pricing-hidden');
	      $('.color-listing-model-price').removeClass('all-in-pricing-hidden');
	      return;
	    }
	
	    //Model details selected trim
	    item.data('is-selling-price-province', modelPriceData.IsSellingPriceProvince);
	    item.data('freight-pdi-cost', _utilities2.default.formatCurrency(priceData.freightPdiCost + priceData.levyTotal));
	    item.data('freight-pdi-cost-label', translations['freight-pdi-fees']);
	    item.data('selling-price', _utilities2.default.formatCurrency(priceData.sellingPrice));
	    item.data('selling-price-label', translations['selling-price']);
	    item.data('selling-price-tooltip', translations['tooltip-all-in-price']);
	  });
	
	  return $('.all-in-pricing-trim-detail').each(function () {
	    var item = $(this);
	    var data = item.data();
	    var trimContainer = $('.inner-abs-container .trim-container');
	    var trimOverview = item.closest('.trim-overview');
	
	    var trimPriceData = (0, _utils.getPricingData)(modelPriceData, {
	      modelKey: modelData.modelKey,
	      trimId: data.trimId
	    });
	    trimDetails.getPaymentCalculatorDetails($(this));
	    if (trimPriceData.isError || trimPriceData.msrp <= 0) {
	      $('.price-container-title.all-in-price-fees', trimOverview).remove();
	      $('.trim-msrp', trimOverview).remove();
	      $('.price-container-title, .price-container-price', trimOverview).removeClass('all-in-pricing-hidden');
	      return;
	    }
	
	    if (modelPriceData.IsSellingPriceProvince) {
	      trimContainer.addClass('qc-all-in');
	      $('.price-container-title.all-in-price-fees.qc .item-price-starting', trimOverview).html('<span>' + translations['include'] + ' ' + _utilities2.default.formatCurrency(trimPriceData.freightPdiCost + trimPriceData.levyTotal) + ' ' + translations['freight-pdi-fees'] + '</span>').removeClass('all-in-pricing-hidden');
	      $('.price-container-title.all-in-price-fees', trimOverview).removeClass('all-in-pricing-hidden');
	      $('.price-container-price', trimOverview).html(_utilities2.default.formatCurrency(trimPriceData.sellingPrice)).removeClass('all-in-pricing-hidden');
	      $('.trim-msrp .trim-msrp-text', trimOverview).html(translations['selling-price']);
	      $('.trim-msrp .indicator-description', trimOverview).html(translations['tooltip-all-in-price']);
	      $('.trim-msrp', trimOverview).removeClass('all-in-pricing-hidden');
	    } else {
	      $('.price-container-title.all-in-price-fees', trimOverview).remove();
	      $('.trim-msrp', trimOverview).remove();
	      $('.price-container-title, .price-container-price', trimOverview).removeClass('all-in-pricing-hidden');
	    }
	  });
	}

/***/ },

/***/ 344:
/***/ function(module, exports) {

	"use strict";
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	exports.default = function () {
	    //Copied from red-y-to-ride.js file.
	    $(document).ready(function () {
	        // the province accordion item click event
	        $(".accordion-primary-title").on("click", function () {
	            var $this = $(this),
	                $parent = $this.closest("div.accordion-primary-item"),
	                $section = $this.closest("div.accessory-accordion-section"),
	                $expander = $(".province-expander");
	
	            // if the item is open then close it
	            if ($parent.hasClass("is-active")) {
	                $parent.removeClass("is-active");
	
	                // if there are no open items then make sure the expand-all is displaying
	                if ($('.accordion-primary-item.is-active', $section).length === 0) {
	                    $expander.attr("data-expanded", "0").removeClass("btn-expand-all").addClass("btn-collapse-all").html($expander.data("expand-all"));
	                }
	            } else {
	                // open the clicked item
	                $parent.addClass("is-active");
	
	                if ($('.accordion-primary-item', $section).length == $('.accordion-primary-item.is-active', $section).length) {
	                    $expander.attr("data-expanded", "1").removeClass("btn-collapse-all").addClass("btn-expand-all").html($expander.data("collapse-all"));
	                }
	            }
	        });
	
	        // expand-all/collapse-all event for province links
	        $(".province-expander").on("click", function (evt) {
	            evt.preventDefault();
	
	            var $this = $(this);
	            if ($this.attr("data-expanded") === "0") {
	                $(".accordion-primary-item").addClass("is-active");
	                $this.attr("data-expanded", "1").removeClass("btn-collapse-all").addClass("btn-expand-all").html($this.data("collapse-all"));
	            } else {
	                $(".accordion-primary-item").removeClass("is-active");
	                $this.attr("data-expanded", "0").removeClass("btn-expand-all").addClass("btn-collapse-all").html($this.data("expand-all"));
	            }
	        });
	    });
	};

/***/ },

/***/ 361:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	var defaults = {
	  protocol: 'http',
	  hostname: 'dev.api.honda.ca',
	  rootPath: '',
	  productLine: 'H',
	  target: 'live',
	  language: 'en',
	  application: 'website',
	
	  // @deprecated: use rootPath instead
	  apiRootPath: ''
	};
	
	var Api = function () {
	  function Api(config) {
	    _classCallCheck(this, Api);
	
	    this.settings = Object.assign({}, defaults, config);
	
	    // Deprecate apiRootPath
	    if (!this.settings.rootPath && this.settings.apiRootPath) {
	      this.settings.rootPath = this.settings.apiRootPath;
	    }
	  }
	
	  /**
	   * Make an AJAX request
	   */
	
	
	  _createClass(Api, [{
	    key: 'makeRequest',
	    value: function makeRequest(path, config) {
	      var settings = Object.assign({}, this.settings, config);
	
	      var rootPath = settings.rootPath,
	          protocol = settings.protocol,
	          hostname = settings.hostname,
	          productLine = settings.productLine,
	          target = settings.target,
	          language = settings.language;
	
	
	      var baseUrl = protocol + '://' + hostname;
	      var endpoint = this.parsePath(rootPath);
	
	      if (productLine) {
	        endpoint = endpoint + '/' + productLine;
	      }
	
	      if (target) {
	        endpoint = endpoint + '/' + target;
	      }
	
	      var req = Object.assign({
	        url: baseUrl + '/' + endpoint + '/' + this.parsePath(path),
	        data: {
	          AcceptLanguage: language
	        },
	        headers: {
	          'Accept-Language': language
	        }
	      }, settings);
	
	      return _jquery2.default.ajax(req);
	    }
	
	    /**
	     * Strip slash from the beginning of a given path
	     * eg. /mypath --> mypath
	     */
	
	  }, {
	    key: 'parsePath',
	    value: function parsePath(path) {
	      if (path && path[0] === '/') {
	        return path.substring(1, path.length);
	      }
	
	      return path;
	    }
	  }]);
	
	  return Api;
	}();
	
	exports.default = Api;

/***/ },

/***/ 362:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _api = __webpack_require__(361);
	
	var _api2 = _interopRequireDefault(_api);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
	
	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }
	
	/**
	 * @class Honda.VehiclesApi
	 */
	var VehiclesApi = function (_Api) {
	  _inherits(VehiclesApi, _Api);
	
	  function VehiclesApi(config) {
	    _classCallCheck(this, VehiclesApi);
	
	    var _this = _possibleConstructorReturn(this, (VehiclesApi.__proto__ || Object.getPrototypeOf(VehiclesApi)).call(this, config));
	
	    var settings = config || {};
	    _this.settings.rootPath = settings.rootPath || 'models';
	    return _this;
	  }
	
	  /**
	   * Get trims view with all price details for a given model year per province
	   * @param province {String} Province
	   */
	
	
	  _createClass(VehiclesApi, [{
	    key: 'getTrimsAllInPrice',
	    value: function getTrimsAllInPrice(province, config) {
	      return this.makeRequest(this.settings.application + '/price-calculator/' + province, config);
	    }
	  }]);
	
	  return VehiclesApi;
	}(_api2.default);
	
	exports.default = VehiclesApi;

/***/ },

/***/ 364:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _utilities = __webpack_require__(114);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _warranties = __webpack_require__(365);
	
	var _warranties2 = _interopRequireDefault(_warranties);
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _react = __webpack_require__(15);
	
	var _react2 = _interopRequireDefault(_react);
	
	var _reactDom = __webpack_require__(143);
	
	var _constants = __webpack_require__(65);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	/**
	 * Root level container component for the waranty
	 */
	
	(0, _jquery2.default)(function () {
	  _jquery2.default.support.cors = true;
	  var apiSettings = (0, _jquery2.default)("#mc-config").data();
	  var currentLanguage = _utilities2.default.getCurrentLanguage();
	  var translations = _utilities2.default.getTranslations(currentLanguage);
	
	  (0, _reactDom.render)(_react2.default.createElement(_warranties2.default, {
	    apiSettings: apiSettings,
	    productLine: apiSettings.productLine || _constants.DEFAULT_PRODUCTLINE_CODE,
	    language: currentLanguage,
	    translations: translations
	  }), document.getElementById('warranty-table'));
	});
	
	exports.default = _warranties2.default;

/***/ },

/***/ 365:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _react = __webpack_require__(15);
	
	var _react2 = _interopRequireDefault(_react);
	
	var _lodash = __webpack_require__(20);
	
	var _honda = __webpack_require__(168);
	
	var _utilities = __webpack_require__(114);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _accounting = __webpack_require__(47);
	
	var _warrantyTable = __webpack_require__(366);
	
	var _warrantyTable2 = _interopRequireDefault(_warrantyTable);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
	
	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Waranty component
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	var rgxWarranty = /\s+\(.*\)/; //Replace everything within the braces. E.g. extract '24 months' from "24 months (12 months Distributor's Warranty)"
	var rgxPackage = /(.*)(\s)(\-?|\s?)(\s+)([0-9]+\s?\-\s?[0-9]+\s*cc)/ig; //extract everything at the end. E.g. extract '1-250cc' from "On-Road - 1-250cc"
	var rgxTrim = /^\s+|\s+$/; //Removes Leading/Trailing slashes
	
	var rgxDualSport = /dual(\s+)sport/i; //To extract dual sport waranties 'Dual Sport - 200-250cc'
	var rgxOffRoad = /off(\s+|\-)road/i; //To extracxt off road warranties 'Off-Road - 1-80 cc'
	var rgxOnRoad12m = /on(\s+|\-)road(\s+)(\-)/i; //To extract on road waranties 'On-Road - 1-150 cc'
	var rgxOnRoad36m = /on(\s+|\-)road(\s+)([a-z0-9]+)(\s+)(\-)/i; //To extract on raod extended warranties 'On-Road ST1300 - 1201-1600 cc'
	
	var Warranties = function (_Component) {
	  _inherits(Warranties, _Component);
	
	  function Warranties(props) {
	    _classCallCheck(this, Warranties);
	
	    var _this = _possibleConstructorReturn(this, (Warranties.__proto__ || Object.getPrototypeOf(Warranties)).call(this, props));
	
	    var _this$props = _this.props,
	        apiSettings = _this$props.apiSettings,
	        productLine = _this$props.productLine,
	        language = _this$props.language,
	        translations = _this$props.translations;
	
	
	    _this.state = {
	      productLine: productLine,
	      dualWarrantyOptions: [],
	      offRoadWarrantyOptions: [],
	      OnRoad12mWarrantyOptions: [],
	      OnRoad36mWarrantyOptions: []
	    };
	
	    _this.vehiclesApi = new _honda.VehiclesApi((0, _lodash.assign)({}, apiSettings, { productLine: productLine }));
	    return _this;
	  }
	
	  _createClass(Warranties, [{
	    key: 'componentDidMount',
	    value: function componentDidMount() {
	      this.loadWarranties();
	    }
	  }, {
	    key: 'getWarrantyTableOptions',
	    value: function getWarrantyTableOptions(warranties) {
	      var warrantyPackagesDesktop = [];
	
	      if (warranties) {
	        var dictionaryDesktop = [];
	        dictionaryDesktop['head'] = [''];
	
	        warranties.forEach(function (warranty) {
	          var warrantyName = warranty.Name.replace(rgxTrim, '');
	          warrantyName = warranty.Name.replace(rgxWarranty, '');
	
	          dictionaryDesktop['head'].push(warrantyName);
	
	          if (warranty.Packages) {
	            var filteredwarrantyPackages = warranty.Packages.filter(function (pkg) {
	              return pkg.Name != 'On-Road - CBR125R';
	            });
	
	            filteredwarrantyPackages.forEach(function (pkg) {
	              var packageName = pkg.Name.replace(rgxTrim, '');
	              packageName = pkg.Name.replace(rgxPackage, '$5');
	              if (packageName && currentLanguage == 'fr') {
	                packageName = packageName.replace("cc", ' cm<span class="superscript">3</span>');
	              }
	
	              if (dictionaryDesktop[packageName]) {
	                dictionaryDesktop[packageName].push((0, _accounting.formatMoney)(pkg.Price, { precision: 0 }));
	              } else {
	                dictionaryDesktop[packageName] = [packageName, (0, _accounting.formatMoney)(pkg.Price, { precision: 0 })];
	              }
	            });
	          }
	        });
	        warrantyPackagesDesktop = Object.keys(dictionaryDesktop).map(function (key, index) {
	          return dictionaryDesktop[key];
	        });
	      }
	      return warrantyPackagesDesktop;
	    }
	  }, {
	    key: 'loadWarranties',
	    value: function loadWarranties() {
	      var _this2 = this;
	
	      var productLine = this.state.productLine;
	
	      this.vehiclesApi.getProductlineWarranties({ productLine: productLine }).then(function (data) {
	        var dualSport = data.filter(function (warrantyPackage) {
	          return rgxDualSport.test(warrantyPackage.PackageName);
	        });
	
	        var offRoad = data.filter(function (warrantyPackage) {
	          return rgxOffRoad.test(warrantyPackage.PackageName);
	        });
	
	        var onRoad12m = data.filter(function (warrantyPackage) {
	          return rgxOnRoad12m.test(warrantyPackage.PackageName);
	        });
	
	        var onRoad36m = data.filter(function (warrantyPackage) {
	          return rgxOnRoad36m.test(warrantyPackage.PackageName);
	        });
	
	        _this2.setState({
	          dualWarrantyOptions: _this2.getWarrantyTableOptions(dualSport),
	          offRoadWarrantyOptions: _this2.getWarrantyTableOptions(offRoad),
	          OnRoad12mWarrantyOptions: _this2.getWarrantyTableOptions(onRoad12m),
	          OnRoad36mWarrantyOptions: _this2.getWarrantyTableOptions(onRoad36m)
	        });
	      });
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      var translations = this.props.translations;
	      var _state = this.state,
	          dualWarrantyOptions = _state.dualWarrantyOptions,
	          offRoadWarrantyOptions = _state.offRoadWarrantyOptions,
	          OnRoad12mWarrantyOptions = _state.OnRoad12mWarrantyOptions,
	          OnRoad36mWarrantyOptions = _state.OnRoad36mWarrantyOptions;
	
	
	      return _react2.default.createElement(
	        'div',
	        null,
	        _react2.default.createElement(_warrantyTable2.default, {
	          warrantyOptions: dualWarrantyOptions,
	          headerLabel: this.props.translations['warranty-dual-sport-12-month-header'],
	          warrantyLabel: this.props.translations['warranty-dual-sport-12-month-warranty']
	        }),
	        _react2.default.createElement(_warrantyTable2.default, {
	          warrantyOptions: offRoadWarrantyOptions,
	          headerLabel: this.props.translations['warranty-off-road-6-month-head'],
	          warrantyLabel: this.props.translations['warranty-off-road-6-month-warranty']
	        }),
	        _react2.default.createElement(_warrantyTable2.default, {
	          warrantyOptions: OnRoad12mWarrantyOptions,
	          headerLabel: this.props.translations['warranty-on-road-12-month-head'],
	          warrantyLabel: this.props.translations['warranty-on-road-12-month-warranty']
	        }),
	        _react2.default.createElement(_warrantyTable2.default, {
	          warrantyOptions: OnRoad36mWarrantyOptions,
	          headerLabel: this.props.translations['warranty-on-road-36-month-head'],
	          warrantyLabel: this.props.translations['warranty-on-road-36-month-warranty']
	        }),
	        _react2.default.createElement(
	          'div',
	          { className: 'warranty-table' },
	          _react2.default.createElement(
	            'span',
	            { className: 'warranty-table-disclaimer' },
	            this.props.translations['warranty-disclaimer']
	          )
	        )
	      );
	    }
	  }]);
	
	  return Warranties;
	}(_react.Component);
	
	Warranties.propTypes = {
	  apiSettings: _react.PropTypes.object.isRequired,
	  productLine: _react.PropTypes.string.isRequired,
	  language: _react.PropTypes.string.isRequired,
	  translations: _react.PropTypes.any.isRequired
	};
	
	exports.default = Warranties;

/***/ },

/***/ 366:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();
	
	var _react = __webpack_require__(15);
	
	var _react2 = _interopRequireDefault(_react);
	
	var _lodash = __webpack_require__(20);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }
	
	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }
	
	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Warranty table component
	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */
	
	var WarrantyTable = function (_Component) {
	  _inherits(WarrantyTable, _Component);
	
	  function WarrantyTable(props) {
	    _classCallCheck(this, WarrantyTable);
	
	    var _this = _possibleConstructorReturn(this, (WarrantyTable.__proto__ || Object.getPrototypeOf(WarrantyTable)).call(this, props));
	
	    var _this$props = _this.props,
	        headerLabel = _this$props.headerLabel,
	        warrantyLabel = _this$props.warrantyLabel;
	
	
	    _this.state = {
	      warrantyOptions: []
	    };
	    return _this;
	  }
	
	  _createClass(WarrantyTable, [{
	    key: 'renderTableRow',
	    value: function renderTableRow(warrantyPackage, index) {
	      if (index == 0) {
	        return this.renderTableHead(warrantyPackage);
	      } else {
	        return this.renderTableCell(warrantyPackage);
	      }
	    }
	  }, {
	    key: 'renderTableHead',
	    value: function renderTableHead(warrantyPackage) {
	      return warrantyPackage.map(function (warranty, i) {
	        return _react2.default.createElement(
	          'th',
	          null,
	          warranty
	        );
	      });
	    }
	  }, {
	    key: 'renderTableCell',
	    value: function renderTableCell(warrantyPackage) {
	      return warrantyPackage.map(function (warranty, i) {
	        return _react2.default.createElement('td', { dangerouslySetInnerHTML: { __html: warranty } });
	      });
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      var _this2 = this;
	
	      var _props = this.props,
	          headerLabel = _props.headerLabel,
	          warrantyLabel = _props.warrantyLabel,
	          warrantyOptions = _props.warrantyOptions;
	
	
	      return _react2.default.createElement(
	        'div',
	        { className: 'warranty-table' },
	        _react2.default.createElement(
	          'span',
	          { className: 'warranty-table-title' },
	          _react2.default.createElement(
	            'span',
	            null,
	            this.props.headerLabel
	          ),
	          ' ',
	          _react2.default.createElement(
	            'span',
	            { className: 'period-title' },
	            this.props.warrantyLabel
	          )
	        ),
	        _react2.default.createElement(
	          'table',
	          null,
	          warrantyOptions.map(function (warrantyPackage, i) {
	            return _react2.default.createElement(
	              'tr',
	              null,
	              _this2.renderTableRow(warrantyPackage, i)
	            );
	          })
	        )
	      );
	    }
	  }]);
	
	  return WarrantyTable;
	}(_react.Component);
	
	WarrantyTable.propTypes = {
	  warrantyOptions: _react.PropTypes.any.isRequired,
	  headerLabel: _react.PropTypes.string.isRequired,
	  warrantyLabel: _react.PropTypes.string.isRequired
	};
	
	exports.default = WarrantyTable;

/***/ },

/***/ 367:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	  _accessoryModelSelectionService2.default.wireUpSelectEvents();
	  _accessoryModelSelectionService2.default.wireUpFindButton();
	  _utilities2.default.checkAccessoryImages('.accordion-primary-card-item');
	};
	
	var _accessoryModelSelectionService = __webpack_require__(113);
	
	var _accessoryModelSelectionService2 = _interopRequireDefault(_accessoryModelSelectionService);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	var categorySelector = $('select.option-category', '.find-accessories-model-selector');
	var modelSelector = $('select.option-model', '.find-accessories-model-selector');
	var yearSelector = $('select.option-year', '.find-accessories-model-selector');
	var findButton = $('a.find-accessories-button', '.find-accessories-model-selector');

/***/ },

/***/ 368:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
		value: true
	});
	
	exports.default = function () {
		_accessoryModelSelectionService2.default.wireUpFindButton();
	
		var accessoriesResultsData = {
			category: $categoryElement.val(),
			trim: $trimElement.val(),
			year: parseInt($yearElement.val())
		};
	
		setAccessoriesResultsDropDownUi(accessoriesResultsData);
	};
	
	var _accessoryModelSelectionService = __webpack_require__(113);
	
	var _accessoryModelSelectionService2 = _interopRequireDefault(_accessoryModelSelectionService);
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _accordion = __webpack_require__(344);
	
	var _accordion2 = _interopRequireDefault(_accordion);
	
	var _hondaApiClient = __webpack_require__(85);
	
	var _hondaApiClient2 = _interopRequireDefault(_hondaApiClient);
	
	var _geo = __webpack_require__(74);
	
	var _geo2 = _interopRequireDefault(_geo);
	
	var _constants = __webpack_require__(73);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	var appSettings = (0, _jquery2.default)("#mc-config").data();
	
	var vehiclesApi = new _hondaApiClient2.default.VehiclesApi({
		productLine: 'M',
		language: currentLanguage,
		protocol: appSettings.protocol,
		hostname: appSettings.hostname,
		target: appSettings.target
	});
	
	var $accessoryAccordionSection = (0, _jquery2.default)('.section-heading-wrapper');
	
	var $categorySelector = (0, _jquery2.default)('select.option-category', '.find-accessories-model-selector');
	var $modelSelector = (0, _jquery2.default)('select.option-model', '.find-accessories-model-selector');
	var $yearSelector = (0, _jquery2.default)('select.option-year', '.find-accessories-model-selector');
	
	var $categoryElement = (0, _jquery2.default)('#category', '.accessories-results-data');
	var $trimElement = (0, _jquery2.default)('#trim', '.accessories-results-data');
	var $yearElement = (0, _jquery2.default)('#year', '.accessories-results-data');
	
	var $accordionPrimaryTemplate = (0, _jquery2.default)('.accordion-primary-item', '.accordion-template');
	var $accordionPrimaryCardItem = (0, _jquery2.default)('.accordion-primary-card-item', '.accordion-template');
	var $accordionAnchor = (0, _jquery2.default)('.accordion-primary');
	
	function setAccessoriesResultsDropDownUi(accessoriesResultsData) {
	
		var selectOption = function selectOption(selector, value) {
			(0, _jquery2.default)('option:selected', selector).removeAttr('selected');
			(0, _jquery2.default)(selector).find('option[value="' + value + '"]').attr("selected", true);
		};
	
		selectOption($categorySelector, accessoriesResultsData.category);
	
		_accessoryModelSelectionService2.default.fetchModelsForCategory(accessoriesResultsData.category, function () {
			selectOption($modelSelector, accessoriesResultsData.trim);
	
			var values = _accessoryModelSelectionService2.default.fetchYearsForModel(accessoriesResultsData.trim);
			var value = values[accessoriesResultsData.year];
			selectOption($yearSelector, value);
	
			renderAccessoriesDetails(value);
		});
	
		_accessoryModelSelectionService2.default.wireUpSelectEvents();
	}
	
	function renderAccessoriesDetails(transmissionIdAndModelYear) {
		var transmissionId = transmissionIdAndModelYear.split('|')[0];
	
		vehiclesApi.searchAccessories(transmissionId, { province: _geo2.default.getSelectedProvinceCode() || _constants.DEFAULT_PROVINCE_CODE }).then(function (accessories) {
	
			if (accessories.length > 0) {
				$accessoryAccordionSection.show();
			} else {
				$accessoryAccordionSection.hide();
			}
	
			var accesoryGroups = groupAndSortAccessoryCategories(accessories);
	
			accesoryGroups.forEach(function (accessoryGroup) {
	
				var $accessoryGroupMarkup = $accordionPrimaryTemplate.clone();
				$accordionAnchor.append($accessoryGroupMarkup);
				$accessoryGroupMarkup.find('.accordion-primary-title').html(accessoryGroup[1][0].AccessoryCategory.Name);
	
				var $cardEntryPoint = $accessoryGroupMarkup.find('.accordion-primary-card-container');
	
				accessoryGroup[1].forEach(function (accessory) {
					var $accessoryMarkup = $accordionPrimaryCardItem.clone();
					$cardEntryPoint.append($accessoryMarkup);
	
					$accessoryMarkup.find('.accordion-primary-card-title').html(accessory.AccessoryName);
					$accessoryMarkup.find('.accordion-primary-card-thumbnail').attr('src', accessory.ThumbnailAssetUrl).attr('alt', accessory.AccessoryName);
	
					var partNumber = translations['part'] + ' #: ' + accessory.AccessoryNumber;
					var price = _utilities2.default.formatCurrency(accessory.AccessoryListPrice, 2) + ' <span>' + translations['msrp'] + '</span>';
	
					$accessoryMarkup.find('.accordion-primary-product-number').html(partNumber);
					$accessoryMarkup.find('.accordion-primary-product-price').html(price);
					$accessoryMarkup.find('.accordion-primary-product-specs li').html(accessory.AccessoryDescription);
				});
			});
	
			_utilities2.default.checkAccessoryImages('.accordion-primary-card-item');
	
			(0, _accordion2.default)();
			$accordionAnchor.find('.accordion-primary-item').first().addClass("is-active");
		});
	}
	
	function groupAndSortAccessoryCategories(data) {
		var mappedObject = _.groupBy(data, function (accessory) {
			return accessory.AccessoryCategory.Key;
		});
	
		var array = Object.keys(mappedObject).map(function (key) {
			return [key, mappedObject[key]];
		});
	
		array.sort(function (a, b) {
			return a[1][0].AccessoryCategory.DisplayOrder - b[1][0].AccessoryCategory.DisplayOrder;
		});
	
		array.forEach(function (entry) {
			entry[1].sort(function (a, b) {
				return a.AccessoryDisplayOrder - b.AccessoryDisplayOrder;
			});
		});
	
		return array;
	}

/***/ },

/***/ 369:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	
	  (function setAllInPricing() {
	    var province = _utilities2.default.getProvinceContext();
	    _financialService2.default.fetchModelsAllInPrice(JSON.stringify((0, _category.fetchModelKeyAndYear)()), province || 'ON').then(_category.showModelPricing, _category.showNationalPricing);
	  })();
	};
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _financialService = __webpack_require__(75);
	
	var _financialService2 = _interopRequireDefault(_financialService);
	
	var _category = __webpack_require__(341);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ },

/***/ 371:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	  var setAllInPricing = function setAllInPricing() {
	    var province = _utilities2.default.getProvinceContext();
	    var modelKeyAndYear = (0, _compareTool.fetchModelKeyAndYear)();
	    if (!modelKeyAndYear || !modelKeyAndYear.length) {
	      return;
	    }
	    _financialService2.default.fetchModelsAllInPrice(JSON.stringify(modelKeyAndYear), province || 'ON').then(_compareTool.showModelPricing, _compareTool.showNationalPricing);
	  };
	
	  addEventListener('compare-tool-refreshed', setAllInPricing);
	};
	
	var _compareTool = __webpack_require__(342);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _financialService = __webpack_require__(75);
	
	var _financialService2 = _interopRequireDefault(_financialService);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ },

/***/ 372:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	var _gtm = __webpack_require__(87);
	
	var getMyPricingFinanceOptions = new function () {
	  var self = this;
	
	  self.paymentCalculatorBaseUrl = $('#payment-calculator-base-url').val();
	
	  // initialization function
	  self.init = function () {
	    //Category page model selector Financial 
	    $('.payment-calculator-wrapper .btn-launch').on('click', function (evt) {
	      evt.preventDefault();
	
	      var selectedOption = $('.payment-calculator-wrapper select option:selected');
	      var categoryKey = $('#current-category-key').val() || selectedOption.attr('data-category-key');
	      var transmissionKey = selectedOption.attr('data-transmission-key');
	      var modelYear = selectedOption.attr('data-model-year');
	      var trackingName = selectedOption.attr('data-tracking-name');
	
	      if (categoryKey && transmissionKey && modelYear) {
	        (0, _gtm.triggerGtm)({ event: "Pricing-and-Finance-Model-Select", model: trackingName });
	        window.location.assign(self.paymentCalculatorBaseUrl + '/' + categoryKey + '/' + transmissionKey + '/' + modelYear);
	      }
	    });
	
	    //Deep linked button. Promo modal, model details sticky bar, etc 
	    $('.payment-calc-deep-link .btn-launch').on('click', function (evt) {
	      evt.preventDefault();
	      self.redirectToPaymentCalculator($(this), $('.popup.promo-modal'));
	    });
	
	    //Deep linked button. Promo modal, model details sticky bar, etc 
	    $('body').on('click', '.finance-link', function (evt) {
	      evt.preventDefault();
	      self.redirectToPaymentCalculator($(this), $('.popup-compare'));
	    });
	  };
	
	  self.redirectToPaymentCalculator = function (element, modal) {
	    var categoryKey = element.attr('data-category-key');
	    var transmissionKey = element.attr('data-transmission-key');
	    var modelYear = element.attr('data-model-year');
	    modal.fadeOut();
	
	    if (categoryKey && transmissionKey && modelYear) {
	      window.location.assign(self.paymentCalculatorBaseUrl + '/' + categoryKey + '/' + transmissionKey + '/' + modelYear);
	    }
	  };
	}(); // create the financail button singleton that is used for running the client side functions for when the relevant button is clicked
	
	
	var init = function init() {
	  getMyPricingFinanceOptions.init();
	};
	
	exports.default = init;

/***/ },

/***/ 373:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	
	  //Province Selector Close
	  (0, _jquery2.default)('.province-selector-close').click(function () {
	    var provinceSelector = (0, _jquery2.default)('.province-selector');
	    provinceSelector.addClass('hide-bar').one('animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd', function (event) {
	      (0, _jquery2.default)(this).css('display', 'none');
	    });
	  });
	
	  btnSelectProvinceHeader.click(function () {
	    var selectedProvince = headerProvinceSelectorDropdown.val();
	    if (selectedProvince) {
	      _utilities2.default.setProvinceContext(selectedProvince);
	      location.reload(true);
	    } else {
	      headerProvinceSelectorDropdown.addClass('has-error');
	    }
	  });
	
	  headerProvinceSelectorDropdown.change(function () {
	    if (headerProvinceSelectorDropdown.val()) {
	      headerProvinceSelectorDropdown.removeClass('has-error');
	    } else {
	      headerProvinceSelectorDropdown.addClass('has-error');
	    }
	  });
	
	  footerProvinceSelectorDropdown.change(function () {
	    var selectedProvince = (0, _jquery2.default)(this).val();
	    if (!selectedProvince) return;
	    _utilities2.default.setProvinceContext(selectedProvince);
	    location.reload(true);
	    return;
	  });
	
	  _dispatcher2.default.on(_constants.EVENTS.ProvincesLoaded, function (provinces) {
	    if (_utilities2.default.getProvinceContext() === '') {
	      provinceSelectorFooter.removeClass('all-in-pricing-hidden');
	      provinceSelectorHeader.removeClass('all-in-pricing-hidden');
	    } else {
	      provinceSelectorFooter.removeClass('all-in-pricing-hidden');
	      provinceSelectorHeader.addClass('all-in-pricing-hidden');
	    }
	    provinceSelectorDropdown.each(function () {
	      var dropdown = (0, _jquery2.default)(this);
	      var showFullName = dropdown.hasClass('full-province');
	      for (var index in provinces) {
	        dropdown.append((0, _jquery2.default)('<option>', {
	          value: provinces[index].Abbreviation,
	          text: showFullName ? provinces[index].Name : provinces[index].Abbreviation
	        }));
	      }
	      dropdown.append((0, _jquery2.default)('<option>', {
	        value: '',
	        text: showFullName ? translations['select-your-province'] : translations['location']
	      }));
	      dropdown.val(_utilities2.default.getProvinceContext());
	    });
	    footerProvinceSelectorDropdown.each(function () {
	      var optionLength = (0, _jquery2.default)(this).children(':selected').text().length;
	      (0, _jquery2.default)(this).parent().attr('style', 'min-width: ' + factor * optionLength + 'px;');
	    });
	  });
	
	  _dispatcher2.default.on(_constants.EVENTS.ProvinceSelected, function (province) {
	    if (province === null || _utilities2.default.getProvinceContext() !== '') {
	      return;
	    }
	    _utilities2.default.setProvinceContext(province.code);
	    location.reload(true);
	  });
	
	  footerProvinceSelectorDropdown.on('change', function (ev) {
	    var optionLength = (0, _jquery2.default)(this).children(':selected').text().length;
	    (0, _jquery2.default)(this).parent().attr('style', 'min-width: ' + factor * optionLength + 'px;');
	  });
	};
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _dispatcher = __webpack_require__(164);
	
	var _dispatcher2 = _interopRequireDefault(_dispatcher);
	
	var _constants = __webpack_require__(73);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var translations = _utilities2.default.getTranslations(currentLanguage);
	
	var provinceSelectorHeader = (0, _jquery2.default)('.province-selector-header');
	var provinceSelectorFooter = (0, _jquery2.default)('.province-selector-footer');
	var provinceSelectorDropdown = (0, _jquery2.default)('.province-selector-dropdown');
	var headerProvinceSelectorDropdown = provinceSelectorHeader.find('select');
	var footerProvinceSelectorDropdown = provinceSelectorFooter.find('select');
	var btnSelectProvinceHeader = provinceSelectorHeader.find('.btn-1');
	var factor = 13;

/***/ },

/***/ 374:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	exports.default = function () {
	    // Bind the hover event to change which category tout is visible
	    (0, _jquery2.default)('li.category-listing-item').hover(function () {
	        var key = (0, _jquery2.default)(this).attr('data-key');
	        (0, _jquery2.default)('.category-tout-image:not(.' + key + ')').hide();
	        (0, _jquery2.default)('.category-tout-image.' + key).show();
	    }, function () {
	        showFirstImage();
	    });
	
	    // run the show first image
	    showFirstImage();
	};
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var showFirstImage = function showFirstImage() {
	    (0, _jquery2.default)('.category-tout-image').hide();
	    (0, _jquery2.default)('.category-tout-image[src]:first').show();
	};

/***/ },

/***/ 375:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	  var province = _utilities2.default.getProvinceContext();
	
	  _financialService2.default.fetchModelsAllInPrice(JSON.stringify((0, _modelDetails.fetchModelKeyAndYear)()), province || 'ON').then(_modelDetails.showPricing);
	};
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _financialService = __webpack_require__(75);
	
	var _financialService2 = _interopRequireDefault(_financialService);
	
	var _modelDetails = __webpack_require__(343);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ },

/***/ 376:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	var _knockout = __webpack_require__(70);
	
	var _knockout2 = _interopRequireDefault(_knockout);
	
	__webpack_require__(142);
	
	var _geo = __webpack_require__(74);
	
	var _geo2 = _interopRequireDefault(_geo);
	
	var _gtm = __webpack_require__(87);
	
	var _utilities = __webpack_require__(16);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var _overlayElement = '.popup-overlay'; //import $ from 'jquery';
	
	var _formElement = '.newsletter-tout-box';
	var _popupElement = '.newsletter-form';
	var _thankYouElement = '.thank-you';
	
	var language;
	var formViewModel;
	var newsletterViewModel;
	var thanksViewModel;
	
	// The base email address & signup button viewmodel
	function FormViewModel() {
	    var self = this;
	
	    self.isSubmitted = _knockout2.default.observable(false);
	    self.emailAddress = _knockout2.default.observable().extend({ required: true, email: true });
	
	    // shows the errors
	    self.showErrors = function () {
	        _knockout2.default.validation.group(self).showAllMessages();
	    };
	
	    // Clears the errors for the quote form
	    self.clearErrors = function () {
	        _knockout2.default.validation.group(self).showAllMessages(false);
	    };
	
	    self.isValid = function () {
	        return self.emailAddress() !== null && typeof self.emailAddress() !== 'undefined';
	    };
	
	    self.resetForm = function () {
	        self.isSubmitted(false);
	        self.emailAddress(null);
	    };
	
	    self.showPopup = function () {
	        self.isSubmitted(true);
	        self.clearErrors();
	
	        if (!self.isValid()) {
	            self.showErrors();
	            $(".validationMessage").hide();
	            return false;
	        }
	
	        (0, _gtm.triggerGtm)({ event: "special-offer-newsletter-signup" });
	        newsletterViewModel().initialize(self.emailAddress());
	    };
	
	    _knockout2.default.validation.group(self);
	
	    return self;
	};
	
	// The newsletter signup form modal viewmodel
	function NewsletterViewModel() {
	    var self = this,
	        siteProtocol = $(".site-protocol") && $(".site-protocol").val() ? $(".site-protocol").val() : "http";
	
	    self.form = {
	        firstName: _knockout2.default.observable().extend({ required: true }),
	        lastName: _knockout2.default.observable().extend({ required: true }),
	        emailAddress: _knockout2.default.observable().extend({ required: true, email: true }),
	        postalCode: _knockout2.default.observable(),
	        isPostalCodeValid: _knockout2.default.observable(false),
	        address: _knockout2.default.observable(null),
	        city: _knockout2.default.observable(null),
	        province: _knockout2.default.observable(),
	        agreeToPrivacyPolicy: _knockout2.default.observable(false).extend({ required: true }),
	        agreeToMessages: _knockout2.default.observable(false),
	        isSubmitted: _knockout2.default.observable(false),
	        privacyLink: _knockout2.default.observable(),
	        showErrorMessage: _knockout2.default.observable(false),
	        isLoading: _knockout2.default.observable(false)
	    };
	
	    self.options = {
	        regions: _knockout2.default.observableArray([{}])
	    };
	
	    self.form.postalCode.subscribe(function (newValue) {
	        self.form.isPostalCodeValid((0, _utilities.isPostalCodeValid)(newValue));
	    });
	
	    // Secondary form validation
	    self.form.areSecondaryFieldsRequired = _knockout2.default.computed(function () {
	        return !!(self.form.address() || self.form.city() || self.form.province());
	    });
	
	    self.form.isAddressValid = _knockout2.default.computed(function () {
	        return !!(self.form.address() || !self.form.areSecondaryFieldsRequired());
	    });
	
	    self.form.isCityValid = _knockout2.default.computed(function () {
	        return !!(self.form.city() || !self.form.areSecondaryFieldsRequired());
	    });
	
	    self.form.isProvinceValid = _knockout2.default.computed(function () {
	        return !!(self.form.province() || !self.form.areSecondaryFieldsRequired());
	    });
	
	    // shows the errors
	    self.showErrors = function () {
	        _knockout2.default.validation.group(self.form).showAllMessages();
	    };
	
	    // clears the errors
	    self.clearErrors = function () {
	        _knockout2.default.validation.group(self.form).showAllMessages(false);
	    };
	
	    // Resets the form
	    self.resetForm = function () {
	        self.form.firstName(null);
	        self.form.lastName(null);
	        $('.popup-input.placeholder').attr('value', '');
	        self.form.emailAddress(null);
	        self.form.postalCode(null);
	        self.form.address(null);
	        self.form.city(null);
	        self.form.agreeToPrivacyPolicy(false);
	        self.form.agreeToMessages(false);
	        self.form.isSubmitted(false);
	        self.form.showErrorMessage(false);
	        $('.inline-province option').prop('selected', false);
	        self.form.isLoading(false);
	    };
	
	    self.validateForm = function () {
	        // Validates the form
	        return self.form.firstName.isValid() && self.form.lastName.isValid() && self.form.emailAddress.isValid() && self.form.isPostalCodeValid() && self.form.agreeToPrivacyPolicy() && self.form.isAddressValid() && self.form.isCityValid() && self.form.isProvinceValid() && ($('.popup-input.placeholder').attr('value') == '' || $('.popup-input.placeholder').attr('value') == undefined);
	    };
	
	    // Submits the form
	    self.submit = function () {
	        self.form.isSubmitted(true);
	        self.form.isLoading(true);
	
	        // validate form
	        if (!self.validateForm()) {
	            self.showErrors();
	            self.form.isLoading(false);
	            return false;
	        }
	
	        self.clearErrors();
	        var formData = {
	            FirstName: self.form.firstName(),
	            LastName: self.form.lastName(),
	            Email: self.form.emailAddress(),
	            PostalCode: self.form.postalCode(),
	            Address: self.form.address(),
	            City: self.form.city(),
	            Province: $('.inline-province option:selected').val(),
	            ContactMe: self.form.agreeToMessages(),
	            PrivacyPolicy: self.form.agreeToPrivacyPolicy(),
	            content: $('.current-contentpage-url').val(),
	            RequestUrl: $('.current-contentpage-url').val()
	        };
	
	        $.ajax({
	            type: 'POST',
	            url: '/newsletter',
	            cache: false,
	            global: false,
	            data: formData,
	            success: function success() {
	                self.resetForm();
	                formViewModel().resetForm();
	                $(_popupElement).fadeOut();
	                $(_thankYouElement).css({ "position": "absolute", "top": $(window).scrollTop() + 110 }).fadeIn();
	
	                _geo2.default.setPostalCodeContext(formData.PostalCode);
	                (0, _gtm.triggerGtm)({
	                    event: "special-offer-newsletter-overlay-signup",
	                    province: formData.Province,
	                    city: formData.City,
	                    fsa: formData.PostalCode.substr(0, 3)
	                });
	            },
	            error: function error(err) {
	                console.log('Error during newsletter signup submission: ', err);
	                self.form.isLoading(false);
	                //todo: show error message
	            }
	        });
	    };
	
	    self.populateRegionsCallback = function (data) {
	        // Sort the regions alphabetically
	        var sortedData = data.filter(function (reg) {
	            return reg.Abbreviation.toLowerCase() !== 'nu';
	        }).sort(function (a, b) {
	            if (a.Abbreviation < b.Abbreviation) return -1;
	            if (a.Abbreviation > b.Abbreviation) return 1;
	            return 0;
	        });
	
	        self.options.regions(sortedData);
	
	        // bind click events
	        $('.inline-province').bind('change', function () {
	            newsletterViewModel().form.province($('.inline-province option:selected').val());
	        });
	
	        $(_overlayElement + ',' + _popupElement).fadeIn();
	        $(_popupElement + ' input').first().focus();
	    };
	
	    self.populateRegions = function () {
	        var url = $('.geodata-url').val().replace('{0}', language);
	        url = url.substring(0, 5) === 'https' ? url : url.replace('http', siteProtocol.trim());
	        getCrossDomain(url, self.populateRegionsCallback, function (err) {
	            console.log('Error during region data population: ', err);
	        });
	    };
	
	    self.initialize = function (email) {
	        $(".newsletter-form").css({ "position": "absolute", "top": $(window).scrollTop() + 110 });
	        self.form.emailAddress(email);
	        self.populateRegions();
	
	        _geo2.default.requestPostalCodeContext().then(function (postalCode) {
	            self.form.postalCode(postalCode);
	        });
	    };
	
	    self.close = function () {
	        $(_overlayElement + ',' + _popupElement).fadeOut();
	    };
	
	    _knockout2.default.validation.group(self.form);
	
	    return self;
	};
	
	// The thank you modal viewmodel
	function ThanksViewModel() {
	    var self = this;
	
	    self.close = function () {
	        $(_overlayElement + ',' + _thankYouElement).fadeOut();
	    };
	
	    return self;
	};
	
	// Handle tabbing only inside the modal
	$(document).keydown(function (e) {
	    if (e.keyCode == 9) {
	        var thisTab = $(":focus").attr("tabindex");
	
	        if (e.shiftKey) {
	            //Focus previous input
	            if (thisTab == 1) {
	                $(_popupElement).find('[tabindex=' + 10 + ']').focus();
	                return false;
	            }
	        } else {
	            if (thisTab == 10) {
	                $(_popupElement).find('[tabindex=' + 1 + ']').focus();
	                return false;
	            }
	        }
	    }
	});
	
	// Initialize KO validation and some binding handlers
	var initKo = function initKo() {
	    _knockout2.default.validation.init({
	        decorateElement: true,
	        insertMessages: false
	    });
	};
	
	var init = function init() {
	    language = $('.current-language').val();
	
	    // Set up the knockout validation & bindings
	    initKo();
	
	    // Create and bind the form view model
	    formViewModel = _knockout2.default.observable(new FormViewModel());
	    _knockout2.default.applyBindings(formViewModel, $(_formElement)[0]);
	
	    // Create and bind the popup view model
	    newsletterViewModel = _knockout2.default.observable(new NewsletterViewModel());
	    _knockout2.default.applyBindings(newsletterViewModel, $(_popupElement)[0]);
	
	    // Create and bind the thanks view model
	    thanksViewModel = _knockout2.default.observable(new ThanksViewModel());
	    _knockout2.default.applyBindings(thanksViewModel, $(_thankYouElement)[0]);
	};
	
	exports.default = init;

/***/ },

/***/ 377:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	  var currentLanguage = _utilities2.default.getCurrentLanguage();
	  var translations = _utilities2.default.getTranslations(currentLanguage);
	  var province = _utilities2.default.getProvinceContext();
	
	  _financialService2.default.fetchModelsAllInPrice(JSON.stringify(fetchModelKeyAndYear()), province || 'ON').then(getPricingDetails);
	
	  function fetchModelKeyAndYear() {
	    var items = [];
	    $('a.coupon-modal-launcher').each(function () {
	      var data = $(this).data();
	      if (!items.some(function (el) {
	        return el.ModelKey === data.modelKey && el.ModelYear === data.modelYear;
	      })) {
	        items.push({
	          ModelKey: data.modelKey,
	          ModelYear: data.modelYear
	        });
	      }
	    });
	    return items;
	  }
	
	  function getPricingDetails(modelPriceData) {
	    return $('.coupon-modal-launcher').each(function () {
	      var item = $(this);
	      var data = item.data();
	
	      var model = modelPriceData.Models && modelPriceData.Models.filter(function (model) {
	        return model.ModelKey === data.modelKey;
	      })[0];
	      if (!model) {
	        return;
	      }
	
	      var trim = model.Trims && model.Trims.filter(function (trim) {
	        return trim.Id === data.trimId;
	      })[0];
	      if (!trim) {
	        return;
	      }
	
	      var transmission = trim.Transmissions ? trim.Transmissions[0] : null;
	      if (!transmission || !transmission.ExteriorColors) {
	        return;
	      }
	
	      if (transmission.Msrp <= 0) {
	        return;
	      }
	
	      item.data('is-selling-price-province', modelPriceData.IsSellingPriceProvince);
	      item.data('freight-pdi-cost', _utilities2.default.formatCurrency(trim.FreightPdiCost));
	      item.data('freight-pdi-cost-label', translations['freight-pdi-fees']);
	      item.data('selling-price', _utilities2.default.formatCurrency(transmission.ExteriorColors[0].SellingPrice));
	      item.data('selling-price-label', translations['selling-price']);
	      item.data('selling-price-tooltip', translations['tooltip-all-in-price']);
	    });
	  }
	};
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _financialService = __webpack_require__(75);
	
	var _financialService2 = _interopRequireDefault(_financialService);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ },

/***/ 378:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	exports.default = function () {
	    (0, _jquery2.default)(".tabs-menu a").click(function (event) {
	        event.preventDefault();
	        (0, _jquery2.default)(this).parent().addClass("current");
	        (0, _jquery2.default)(this).parent().siblings().removeClass("current");
	        var tab = (0, _jquery2.default)(this).attr("href");
	        var contents = (0, _jquery2.default)(this).closest('#tabs-container').find(".tab-content");
	        (0, _jquery2.default)(contents).not(tab).css("display", "none");
	        (0, _jquery2.default)(contents).filter(tab).fadeIn();
	    });
	
	    // the specification category click event
	    (0, _jquery2.default)(".accordion-primary-title").on("click", function () {
	        var $this = (0, _jquery2.default)(this),
	            $expander = (0, _jquery2.default)(".spec-expander"),
	            $parent = $this.closest("div.accordion-primary-item");
	
	        // if the category is open then close it
	        if ($parent.hasClass("is-active")) {
	            $parent.removeClass("is-active");
	
	            // if there are no open items then make sure the expand-all is displaying
	            if ((0, _jquery2.default)('.accordion-primary-item.is-active').length == 0) {
	                $expander.attr("data-expanded", "0").removeClass("btn-expand-all").addClass("btn-collapse-all").html($expander.data("expand-all"));
	            }
	        } else {
	            // open the clicked category
	            $parent.addClass("is-active");
	
	            if ((0, _jquery2.default)('.accordion-primary-item').length == (0, _jquery2.default)('.accordion-primary-item.is-active').length) {
	                $expander.attr("data-expanded", "1").removeClass("btn-collapse-all").addClass("btn-expand-all").html($expander.data("collapse-all"));
	            }
	        }
	    });
	
	    // expand-all/collapse-all event for specification categories
	    (0, _jquery2.default)(".spec-expander").on("click", function (evt) {
	        evt.preventDefault();
	
	        var $this = (0, _jquery2.default)(this);
	        if ($this.attr("data-expanded") === "0") {
	            (0, _jquery2.default)(".accordion-primary-item").addClass("is-active");
	            $this.attr("data-expanded", "1").removeClass("btn-collapse-all").addClass("btn-expand-all").html($this.data("collapse-all"));
	        } else {
	            (0, _jquery2.default)(".accordion-primary-item").removeClass("is-active");
	            $this.attr("data-expanded", "0").removeClass("btn-expand-all").addClass("btn-collapse-all").html($this.data("expand-all"));
	        }
	    });
	
	    // Use the child application if this is IE9 for XDR issues
	    var url = window.XDomainRequest ? (0, _jquery2.default)('.payment-calculator-url-ie9').val() : (0, _jquery2.default)('.payment-calculator-url').val(),
	        siteProtocol = (0, _jquery2.default)(".site-protocol") && (0, _jquery2.default)(".site-protocol").val() ? (0, _jquery2.default)(".site-protocol").val() : "http";
	    url = url.substring(0, 5) === 'https' ? url.replace('{0}', currentLanguage) : url.replace('http', siteProtocol.trim()).replace('{0}', currentLanguage);
	
	    if (province === 'QC') {
	        (0, _jquery2.default)('.quebec').show();
	        (0, _jquery2.default)('.rest-of-canada').hide();
	        (0, _jquery2.default)('.special-offers-page').addClass('qc-all-in');
	    } else {
	        (0, _jquery2.default)('.quebec').hide();
	        (0, _jquery2.default)('.rest-of-canada').show();
	    }
	    (0, _jquery2.default)(".tab-content.weekly").each(function (x, item) {
	        var itemData = (0, _jquery2.default)(item).data();
	        if ((0, _jquery2.default)(this).hasClass('processed')) return;
	        (0, _jquery2.default)('.tab-content.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\']').addClass('processed');
	
	        var request = {
	            Locale: currentLanguage,
	            Province: province,
	            ModelKey: itemData.modelKey,
	            TrimKey: itemData.trimKey,
	            TransmissionKey: itemData.transmissionKey,
	            ModelYear: itemData.modelYear,
	            IncludeFees: false,
	            WarrantyKey: null,
	            PaymentType: 'weekly',
	            LeaseDownPayment: 0,
	            LeaseTerm: 0,
	            LeaseAnnualKmAllowance: 0,
	            LeaseAdditionalAnnualKm: 0,
	            FinanceDownPayment: 0,
	            FinanceTerm: itemData.maxFinanceTerm
	        };
	
	        var weeklyPaymentElem = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .weekly-payment');
	        var rateElem = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .weekly-rate');
	        var allInPrice = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .all-in-price');
	        var termElem = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .term');
	        var loader = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .rates-loader');
	        var ratesWrapper = (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .payment-type-rate-wrapper');
	
	        _jquery2.default.post(url, request, function (data) {
	            loader.hide();
	            if (data.msrp.value >= 2670) {
	                weeklyPaymentElem.html(_utilities2.default.formatCurrency(data.finance.weekly.total, 0, '<sup>$</sup>') + '<span class=\'dagger\'>&dagger;</span>');
	                rateElem.html(_utilities2.default.formatNumber(data.finance.weekly.apr, 2) + '<sup>%</sup>');
	                termElem.html(data.finance.weekly.term_options_default);
	                allInPrice.html('' + _utilities2.default.formatCurrency(data.cash_purchase.total, 0, '<sup>$</sup>'));
	                ratesWrapper.show();
	            } else {
	                loader.hide();
	                (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\']').hide('li').next().addClass('current');
	                (0, _jquery2.default)('li.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\']').remove();
	                (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .payment-type-rate-wrapper').hide();
	                (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .rest-of-canada').hide();
	                (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .quebec').hide();
	            }
	        }).fail(function () {
	            loader.hide();
	            (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .payment-type-rate-wrapper').hide();
	            (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .rest-of-canada').hide();
	            (0, _jquery2.default)('.weekly[data-transmission-key=\'' + itemData.transmissionKey + '\'] .quebec').hide();
	        });
	    });
	};
	
	var _jquery = __webpack_require__(14);
	
	var _jquery2 = _interopRequireDefault(_jquery);
	
	var _utilities = __webpack_require__(16);
	
	var _utilities2 = _interopRequireDefault(_utilities);
	
	var _hondaApiClient = __webpack_require__(85);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var currentLanguage = _utilities2.default.getCurrentLanguage();
	var appSettings = (0, _jquery2.default)("#mc-config").data();
	var province = _utilities2.default.getProvinceContext() || 'ON';
	
	;

/***/ },

/***/ 379:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	    value: true
	});
	
	var _jsCookie = __webpack_require__(79);
	
	var _jsCookie2 = _interopRequireDefault(_jsCookie);
	
	var _constants = __webpack_require__(73);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	var regionCookieIdentifier = 'user-selected-region';
	var regionDisplayElement = '.user-link.selected';
	var regionDropdownWrapper = '.user-link-dropdown';
	var language;
	
	/* Callback Functions   */
	var retrieveRegionCallback = function retrieveRegionCallback(data) {
	    if (data == null || data.Province == null) {
	        return;
	    }
	
	    // Prepopulate the region header
	    var code = data.Province.Abbreviation;
	    if (code != null) {
	        var display = $(regionDropdownWrapper + '-item[data-code=' + code + ']').attr('data-display');
	        updateRegionDisplay(display);
	    }
	
	    // Also populate the postal code field for Find a Dealer
	    setPostalCode(_jsCookie2.default.get(_constants.GLOBAL_CONTEXT_POSTALCODE) || data.PostalCode.Value);
	};
	
	var setPostalCode = function setPostalCode(postalCode) {
	    if (postalCode) {
	        $('.find-dealer-wrapper input').val(postalCode);
	        $('.user-dealer-dropdown input').val(postalCode);
	    }
	};
	
	var populateRegionCallback = function populateRegionCallback(data) {
	    data = data.sort(function (a, b) {
	        if (a.Abbreviation < b.Abbreviation) return -1;
	        if (a.Abbreviation > b.Abbreviation) return 1;
	        return 0;
	    });
	
	    // remove nunavut
	    $.each(data, function (i, reg) {
	        if (reg.Abbreviation.toLowerCase() != 'nu') {
	            $(regionDropdownWrapper).append('<li class="user-link-dropdown-item" data-code="' + reg.Abbreviation + '" data-display="' + reg.Name + '"><a href="javascript:void(0)" class="user-link-dropdown-link">' + reg.Name + '</a></li>');
	        }
	    });
	
	    // bind click events
	    $(regionDropdownWrapper + '-item').bind('click', function () {
	        var regionCode = $(this).attr('data-code');
	        var regionDisplay = $(this).attr('data-display');
	
	        setCookie(regionCookieIdentifier, regionCode, 1);
	        updateRegionDisplay(regionDisplay);
	        $(regionDropdownWrapper).hide();
	    });
	
	    navigator.geolocation.getCurrentPosition(retrieveRegion);
	};
	
	// Checks whether there's a selected region cookie and updates the region select
	var retrieveRegion = function retrieveRegion(position) {
	    if (position == null || position.coords == null) {
	        return;
	    }
	
	    var regionCode = getCookie(regionCookieIdentifier);
	    var latitude = position.coords.latitude;
	    var longitude = position.coords.longitude;
	    var url = $('.geodata-coordinates-url').val().replace('{0}', latitude).replace('{1}', longitude).replace('{2}', language);
	
	    if (regionCode == null || regionCode == 'undefined' || regionCode.length == 0) {
	        // retrieve ip, see if we can retrieve a province based on that
	        getCrossDomain(url, retrieveRegionCallback, function (err) {
	            console.log('Error during region data retrieval: ', err);
	        });
	    } else {
	        // get the display name for this code
	        var display = $(regionDropdownWrapper + '-item[data-code=' + regionCode + ']').attr('data-display');
	        updateRegionDisplay(display);
	    }
	};
	
	// Set the value of the selected region display
	var updateRegionDisplay = function updateRegionDisplay(region) {
	    $(regionDisplayElement).html(region);
	};
	
	// Populates the regions dropdown
	var populateRegions = function populateRegions() {
	    var url = $('.geodata-url').val().replace('{0}', language),
	        siteProtocol = $(".site-protocol") && $(".site-protocol").val() ? $(".site-protocol").val() : "http";
	    url = url.substring(0, 5) === 'https' ? url : url.replace('http', siteProtocol.trim());
	    getCrossDomain(url, populateRegionCallback, function (err) {
	        console.log('Error during region data population: ', err);
	    });
	};
	
	// Initialization
	var init = function init() {
	    language = $('.current-language').val();
	
	    setPostalCode(_jsCookie2.default.get(_constants.GLOBAL_CONTEXT_POSTALCODE));
	
	    populateRegions();
	
	    $(regionDisplayElement).hover(function () {
	        $(regionDropdownWrapper).show();
	    });
	
	    $(regionDropdownWrapper).hover(function () {}, function () {
	        $(regionDropdownWrapper).hide();
	    });
	};
	
	exports.default = init;
	// Kick off the initialization
	//init();

/***/ },

/***/ 380:
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	
	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	
	exports.default = function () {
	  $(document).ready(function () {
	    warrantyDownloadButton.on('click', function (event) {
	      event.preventDefault();
	      var download = warrantyDropdown.val();
	      if (download) {
	        window.open(download);
	      }
	    });
	  });
	};
	
	__webpack_require__(364);
	
	var warrantyDownloadButton = $('.warranty-download-button');
	var warrantyDropdown = $('.warranty-dropdown');

/***/ }

});
//# sourceMappingURL=App.js.map